-- ðŸ§  Admin Panel GUI (SPV-style) â€” Made by Siva (Executor Support)
if game:GetService("CoreGui"):FindFirstChild("AdminPanelGUI") then
    game:GetService("CoreGui").AdminPanelGUI:Destroy()
end

local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")
local ReplicatedStorage = game:GetService("ReplicatedStorage")

local player = Players.LocalPlayer

-- CMDER CLIENT
local CmdrClient = require(ReplicatedStorage:WaitForChild("CmdrClient"))
local function runCmd(text)
    if not text or text == "" then return end
    CmdrClient:SendCommand(text)
end

-- PARSE NUMBER
local function parseNumber(txt)
    txt = tostring(txt or ""):gsub("[^%d%-%.]", "")
    return tonumber(txt)
end

-- GUI
local gui = Instance.new("ScreenGui")
gui.Name = "AdminPanelGUI"
gui.ResetOnSpawn = false
gui.IgnoreGuiInset = true
gui.Parent = game:GetService("CoreGui")

local function r(obj, radius)
    local c = Instance.new("UICorner", obj)
    c.CornerRadius = UDim.new(0, radius or 8)
end

local function mkButton(parent, text, callback, color)
    local btn = Instance.new("TextButton", parent)
    btn.Size = UDim2.new(1,0,0,28)
    btn.BackgroundColor3 = color or Color3.fromRGB(255,100,100)
    btn.Text = text
    btn.Font = Enum.Font.GothamBold
    btn.TextSize = 10
    btn.TextColor3 = Color3.new(1,1,1)
    btn.BorderSizePixel = 0
    r(btn,6)
    btn.MouseButton1Click:Connect(callback)
    return btn
end

local function mkTextBox(parent, placeholder, defaultText)
    local box = Instance.new("TextBox", parent)
    box.Size = UDim2.new(1,0,0,28)
    box.BackgroundColor3 = Color3.fromRGB(28,30,38)
    box.PlaceholderText = placeholder
    box.Text = defaultText or ""
    box.TextColor3 = Color3.fromRGB(220,225,240)
    box.Font = Enum.Font.Gotham
    box.TextSize = 10
    box.BorderSizePixel = 0
    r(box,6)
    return box
end

local function mkSection(parent, title)
    local section = Instance.new("Frame", parent)
    section.Size = UDim2.new(1,0,0,0)
    section.BackgroundTransparency = 1
    section.AutomaticSize = Enum.AutomaticSize.Y
    local layout = Instance.new("UIListLayout", section)
    layout.Padding = UDim.new(0,5)
    layout.SortOrder = Enum.SortOrder.LayoutOrder
    if title then
        local lbl = Instance.new("TextLabel", section)
        lbl.Size = UDim2.new(1,0,0,16)
        lbl.Text = title
        lbl.Font = Enum.Font.GothamBold
        lbl.TextSize = 11
        lbl.TextColor3 = Color3.new(1,1,1)
        lbl.BackgroundTransparency = 1
        lbl.LayoutOrder = 0
    end
    return section
end

-- MAIN FRAME
local main = Instance.new("Frame", gui)
main.Size = UDim2.fromOffset(420,300)
main.Position = UDim2.new(0.5,-210,0.5,-150)
main.BackgroundColor3 = Color3.fromRGB(18,20,26)
main.BorderSizePixel = 0
r(main,10)

-- DRAGGING
local dragging, dragStart, startPos
local titleBar = Instance.new("Frame", main)
titleBar.Size = UDim2.new(1,0,0,35)
titleBar.BackgroundColor3 = Color3.fromRGB(25,27,35)
r(titleBar,10)
titleBar.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = true
        dragStart = input.Position
        startPos = main.Position
    end
end)
UserInputService.InputChanged:Connect(function(input)
    if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
        local delta = input.Position - dragStart
        main.Position = UDim2.new(startPos.X.Scale,startPos.X.Offset+delta.X,startPos.Y.Scale,startPos.Y.Offset+delta.Y)
    end
end)
UserInputService.InputEnded:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = false
    end
end)

-- TITLE & CLOSE
local title = Instance.new("TextLabel", titleBar)
title.Size = UDim2.new(0,150,1,0)
title.Position = UDim2.fromOffset(12,0)
title.Text = "ADMIN PANEL"
title.TextColor3 = Color3.new(1,1,1)
title.Font = Enum.Font.GothamBold
title.TextSize = 14
title.TextXAlignment = Enum.TextXAlignment.Left
title.BackgroundTransparency = 1

local closeBtn = Instance.new("TextButton", titleBar)
closeBtn.Size = UDim2.fromOffset(28,28)
closeBtn.Position = UDim2.new(1,-32,0,3)
closeBtn.Text = "Ã—"
closeBtn.TextColor3 = Color3.fromRGB(255,100,100)
closeBtn.Font = Enum.Font.GothamBold
closeBtn.TextSize = 18
closeBtn.BackgroundColor3 = Color3.fromRGB(35,37,45)
r(closeBtn,6)
closeBtn.MouseButton1Click:Connect(function() main.Visible = false end)

-- SIDE TABS
local sideTab = Instance.new("Frame", main)
sideTab.Size = UDim2.new(0,120,1,-35)
sideTab.Position = UDim2.fromOffset(0,35)
sideTab.BackgroundColor3 = Color3.fromRGB(28,30,38)

local sideLayout = Instance.new("UIListLayout", sideTab)
sideLayout.Padding = UDim.new(0,4)

local contentContainer = Instance.new("Frame", main)
contentContainer.Size = UDim2.new(1,-120,1,-35)
contentContainer.Position = UDim2.fromOffset(120,35)
contentContainer.BackgroundTransparency = 1

local tabBtns, tabFrames = {}

local function createTab(name)
    local btn = mkButton(sideTab,name,function()
        for _, f in pairs(tabFrames) do f.Visible = false end
        for _, b in pairs(tabBtns) do b.BackgroundColor3 = Color3.fromRGB(255,100,100) end
        tabFrames[name].Visible = true
        btn.BackgroundColor3 = Color3.fromRGB(255,60,60)
    end)
    btn.LayoutOrder = #tabBtns+1

    local frame = Instance.new("ScrollingFrame", contentContainer)
    frame.Size = UDim2.new(1,-10,1,-6)
    frame.Position = UDim2.fromOffset(5,3)
    frame.BackgroundTransparency = 1
    frame.ScrollBarThickness = 3
    frame.ScrollBarImageColor3 = Color3.fromRGB(88,101,242)
    frame.Visible = false

    local layout = Instance.new("UIListLayout", frame)
    layout.Padding = UDim.new(0,6)
    layout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
        frame.CanvasSize = UDim2.new(0,0,0,layout.AbsoluteContentSize.Y+6)
    end)

    tabBtns[name] = btn
    tabFrames[name] = frame
    return frame
end

-- TABS 1, 3, 5
local tab1 = createTab("Brainrot Spawner")
local tab3 = createTab("Add Money")
local tab5 = createTab("Lucky Blocks")

-- TAB 1 CONTENT
do
    local s = mkSection(tab1,"Spawn Brainrots")
    local n = mkTextBox(s,"Pet Name","Strawberry Elephant")
    local m = mkTextBox(s,"Mutation","Normal")
    mkButton(s,"SPAWN",function()
        runCmd(("spawnbrainrot %q %q"):format(n.Text,m.Text))
    end)
end

-- TAB 3 CONTENT
do
    local s = mkSection(tab3,"Add Money")
    local box = mkTextBox(s,"Amount")
    mkButton(s,"ADD",function()
        local num = parseNumber(box.Text)
        if num then runCmd("setmoney "..num) end
    end)
end

-- TAB 5 CONTENT
do
    local s = mkSection(tab5,"Spawn Lucky Block")
    local n = mkTextBox(s,"Block Name","Secret Lucky Block")
    local m = mkTextBox(s,"Mutation","Normal")
    mkButton(s,"SPAWN",function()
        runCmd(("spawnluckyblock %q %q"):format(n.Text,m.Text))
    end)
end

-- DEFAULT OPEN TAB
tabFrames["Brainrot Spawner"].Visible = true
tabBtns["Brainrot Spawner"].BackgroundColor3 = Color3.fromRGB(255,60,60)
